var c2=function(t){function i(n){if(e[n])return e[n].exports;var r=e[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}var e={};return i.m=t,i.c=e,i.p="",i(0)}([function(t,i,e){t.exports=e(1)},function(t,i,e){(function(i){i.c2=function(){},c2.element=c2.create=function(t){return new this.Drawable(t)},c2.animate=e(2),c2.registry=e(4),c2.invalidator=e(3),c2.types=e(5),c2.Base=e(6),c2.Drawable=e(7),c2.Context2d=e(8),c2.Layer2d=e(10),c2.createElement=e(9),t.exports=c2}).call(i,function(){return this}())},function(t,i,e){function n(t){function i(t){var e;(e=i._compile())&&i.tween("",e),V[I++]={selection:t,animation:i},!S&&(S=!0,f.nextCalculate(u))}return i._name=t||"",i._ease=p,i._delay=v,i._duration=x,i._tween_map={},i._to={},i._compiled={},i._compiled_fn=void 0,i._tweens=[],i._compile=h,i.duration=r,i.delay=o,i.ease=a,i.tween=d,i._remove=!1,i.to=_,i.on=l,i.remove=s,i}function r(t){return arguments.length?(this._duration=t,this):this._duration}function o(t){return arguments.length?(this._delay=t,this):this._delay}function a(t){return arguments.length?(this._ease=t,this):this._ease}function s(){return this._remove=!0,this}function l(t,i){return"end"===t?!this._on_end&&(this._on_end=[i])||this._on_end.push(i):"start"===t&&(!this._on_start&&(this._on_start=[i])||this._on_start.push(i)),this}function h(){var t,i=this._to,e="(function (to) {return function (d,i) {",n=["var me=this"],r=[],o=[],a=this._compiled,s=!1,l=0;if(a){for(t in i)if(a[t]!==i[t]){s=!0;break}if(s===!1)return this._compiled_fn}a=this._compiled={};for(t in i)a[t]=i[t],n.push("s"+l+'=this["'+t+'"]',"v"+l+"="+("function"==typeof i[t]&&'to["'+t+'"].call(this,d,i)'||'to["'+t+'"]'),"t"+l+"=typeof v"+l+' === "number"'),r.push("if (t"+l+") {s"+l+"=s"+l+"||0;v"+l+"-=s"+l+";} else {v"+l+"=d3.interpolate(s"+l+",v"+l+");}"),o.push("if (t"+l+') m["'+t+'"]=s'+l+"+v"+l+'*t; else m["'+t+'"]=v'+l+"(t);"),l++;return e+=n.join(",")+";",e+=r.join(""),e+="return function (t) {var m = me;",e+=o.join(""),e+="m._not_invalid_&&m.parentNode&&m._invalidate();",e+="}",e+="}})",this._compiled_fn=(0,eval)(e)(i)}function _(t,i){if(arguments.length>1)this._to[t]=i;else if("object"==typeof t){var e;for(e in t)this._to[e]=t[e]}return this}function d(t,i){return arguments.length>1?((index=this._tween_map[t])?this._tweens[index]=i:this._tween_map[t]=this._tweens.push(i)-1,this):this._tweens[this._tween_map[t]]||null}function c(t){var i,e,n,r,o,a,s,l,h,_,d,c,u,p,f,v,x,S,j,D,E,O,q,B,L,T,F,R,U,W,X,Y,z=k,G=V,H=t;if(N===-1)y&&(y=!1,C=b=0);else if(y)if(y=!1,N===-1)C=b=0;else for(C=b=0,i=0,e=g.length;i<e;i++)if(g[i]){if(n=2*i,n>=N)break;w[b++]=n}for(i=0,e=I;i<e;i++){for(X=G[i],W=X.animation,Y=X.selection,Y._started=!0,h=Y._groups,x=W._delay,S=W._duration,E=W._tweens,O=W._name,q=W._remove,B=W._on_end,v=W._ease,j="function"==typeof x,D="function"==typeof S,n=0,r=h.length;n<r;n++)for(_=h[n],o=0,a=_.length;o<a;o++)if(d=_[o]){if((T=d._c2_transition)&&(u=T[O])){for(c=u.tween_group,u.end_index!==-1&&(u.end_group[u.end_index]=0),s=0,l=u.length;s<l;s++)c[u[s]]=0;0!==c.cnt&&(c.cnt-=l)<=0&&(c.cnt=c.length=0)}for(p=j?H+x.call(d,d.__data__,o,_):H+x,f=D?S.call(d,d.__data__,o,_):S,R=p+"-"+f,(L=A[R])?(U=L.indexOf(v),U!==-1?c=L[U+1]:(L.push(v,c=[]),c.cnt=0)):(b?(U=w[C++],b--,g[U/2]=0):U=N+1,L=z[U/2]=A[R]=[void 0,v,c=[]],c.cnt=0,m[U]=p,m[++U]=f,U>N&&(N=U)),T=d._c2_transition,T||(T=d._c2_transition={}),u=T[O]=[],u.tween_group=c,u.node=d,q||B?(u.remove=q,u.end=B,u.index=o,(F=L[0])?(u.end_index=F.push(u)-1,u.end_group=F):(u.end_group=L[0]=[u],u.end_index=0)):u.end_index=-1,s=0,l=E.length;s<l;s++)u[s]=c.push(E[s].call(d,d.__data__,o,_))-1;c.cnt+=l}G[i]=void 0}I=0}function u(){var t,i,e,n,r,o,a,s,l,h,_,d,p,v,x=Date.now(),w=0,b=0,C=0,V=0;if(I&&c(x),N>0){for(t=0,e=0,o=0,i=N;t<i;t++,o++)if(w=m[t++],w!==-1&&x>w){if(d=m[t],d>0){if(b=(x-w)/d,b>=1&&(C=b=1),r=k[o])for(e=1,n=r.length;e<n;e+=2)if(v=r[e+1],s=v.length)for(_=r[e](b),a=0;a<s;a++)(p=v[a])&&p(_)}else C=1;if(C){if(C=0,!y&&(y=!0),g[(t-1)/2]=1,r=r[0])for(e=0,n=r.length;e<n;e++)if(v=r[e]){if(h=v.node,l=v.end)for(a=0,s=l.length;a<s;a++)l[a].call(h,h.__data__,v.index);v.remove&&h.parentNode&&h.parentNode.removeChild(h)}delete A[m[t-1]+"-"+m[t]],m[t-1]=m[t]=-1,k[o]=!1,t===N&&(V=1)}}if(V){for(t=N-1;t>=-1;t-=2)if(m[t]!==-1){N=t+1;break}t<=-1&&(N=-1)}}I>0||N>0?f.nextCalculate(u):S=!1}t.exports=function(t){return new n(t)};var p=function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2},f=e(3),v=0,x=250,m=[],g=[],y=!0,w=[],b=0,C=0,N=-1,k=[],V=[],I=0,A={},S=!1},function(t,i){function e(){e.t2||(e.t2=!0,requestAnimationFrame(r))}function n(){var t=o;h=!1,t&&(o=!1,t())}function r(){e.t2=!1,o&&(h=!0,setTimeout(n,4));var t,i,r,_,d,c,u,p,f=a,v=s,x=l,m=0;for(_=0,d=x.length;_<d;_++){for(p=x[_],c=p.children,t=r=p._invalid_children_,u=0,i=c.length;r<i;t++,r++){if(p=c[r],!p)for(;!p&&r<i;)m++,p=c[++r];m>-1&&p&&(c[t]=p,p.parentIndex=t)}x[_]._invalid_children_=-1,c.length&&(c.length-=r-t)}for(x.index=0,_=0,d=f.index;_<d;_++)f[_].render();for(f.index=0,_=0,d=v.index;_<d;_++)p=v[_],p._not_invalid_=1;v.index=0}var o,a=[],s=[],l=[];l.index=a.index=s.index=0,e.nextCalculate=function(t){e.t2?o=t:setTimeout(t,4)};var h=!1;e.timeout=!1,e.parents=a,e.cleanup=s,e.children=l,t.exports=e},function(t,i){t.exports=[]},function(t,i){t.exports={"int":{defaultValue:0,setValue:"v|0"},"float":{defaultValue:0,setValue:"v"},string:{defaultValue:"",setValue:"v"},object:{defaultValue:null,setValue:"v"},array:{defaultValue:null,setValue:"v"},any:{defaultValue:null,setValue:"v"}}},function(t,i,e){function n(){this._events={}}function r(t){t.parentNode&&t.parentNode.removeChild(t);var i=this.children;return i||(i=this.children=[]),t.parentIndex=i.push(t)-1,t.parentNode=this,this._not_invalid_&&this._invalidate(),t}function o(t,i){t.parentNode&&t.parentNode.removeChild(t);var e=this.children,n=-1;return e||(e=this.children=[]),i&&i.parentNode===this&&(n=e.indexOf(i)),n!==-1?(t.parentIndex=n,e.splice(n,0,t)):t.parentIndex=e.push(t)-1,t.parentNode=this,this._not_invalid_&&this._invalidate(),t}function a(t){if(t.parentNode===this)return this._invalid_children_===-1&&(this._invalid_children_=0|t.parentIndex,this._invalid_children[this._invalid_children.index++]=this),this._invalid_children_>t.parentIndex&&(this._invalid_children_=t.parentIndex),this.children[t.parentIndex]=void 0,t.parentIndex=-1,t.parentNode=void 0,this._not_invalid_&&this._invalidate(),t}function s(t){var i,e,n=this.children;if(n)for(var r=0,o=n.length;r<o;r++)if(i=n[r]){if(i._c2_proto===t)return i;if(i.children&&i.children.length&&(e=s.call(i,t)))return e}return null}function l(t,i){var e,n=this.children,r=i||[];if(n)for(var o=0,a=n.length;o<a;o++)(e=n[o])&&(e._c2_proto===t&&r.push(e),e.children&&e.children.length&&l.call(e,t,r));return r}function h(t,i){var e=this._events;return e[t]&&e[t].push(i)||(e[t]=[i]),!0}function _(t,i){var e=this._events[t],n=e?e.indexOf(i):-1;return n!==-1&&(e.splice(n,1),!0)}function d(t,i){var e=t,n=i;this[e]=n,this._not_invalid_&&this._invalidate()}function c(t){return this[t]}function u(t){this[t]=void 0,this._not_invalid_&&this._invalidate()}function p(){this._invalid_cleanup[this._invalid_cleanup.index++]=this,this._not_invalid_=0,this.parentNode._not_invalid_&&this.parentNode.invalidate()}function f(){this._not_invalid_&&(this._invalid_cleanup[this._invalid_cleanup.index++]=this,this._not_invalid_=0,this.willInvalidate&&this.willInvalidate(),this.parentNode._not_invalid_&&this.parentNode.invalidate())}var v=e(3),x=e(4);n.prototype._not_invalid_=1,n.prototype._invalid_cleanup=v.cleanup,n.prototype._invalid_parents=v.parents,n.prototype._invalid_children_=-1,n.prototype._invalid_children=v.children,n.prototype.registry=x,n.prototype.invalidator=v,n.prototype.appendChild=r,n.prototype.insertBefore=o,n.prototype.removeChild=a,n.prototype.querySelector=s,n.prototype.querySelectorAll=l,n.prototype.addEventListener=h,n.prototype.removeEventListener=_,n.prototype.setAttribute=d,n.prototype.getAttribute=c,n.prototype.removeAttribute=u,n.prototype.render=n.prototype.oninvalid=n.prototype.ontock=n.prototype.ontick=void 0,n.prototype.invalidate=f,n.prototype._invalidate=p,n.prototype._events=void 0,p.compiled=p.toString().replace(/\n|\t|[\s]{2,}/g,"").match(/([^\{]*)(.*)/)[2].slice(1,-1),f.compiled=f.toString().replace(/\n|\t|[\s]{2,}/g,"").match(/([^\{]*)(.*)/)[2].slice(1,-1),t.exports=n},function(t,i,e){function n(t){var i=this.registry.push(this)-1;if(this._c2_proto=this,this._c2_id=i,this._isDrawable=!0,!t)throw console.error("trace"),new Error("Render function must be provided to Drawable constructor");this.render=t}function r(t){var i,e,n=[],r=[],o=[];this._attributes=t;for(i in t)e=t[i],this[i]=t[i].defaultValue,n.push('if (n === "'+i+'" ) {this["'+i+'"]='+t[i].setValue+";}"),o.push('if (n === "'+i+'") {this["'+i+'"]=null;}'),r.push('if (n === "'+i+'") {return this["'+i+'"];}');return this.setAttribute=(0,eval)("(function c2_setAttribute (k,b) {var n=k,v=b; "+n.join("else ")+"else {this[n]=v;} "+this.invalidate.compiled+"})"),this.getAttribute=(0,eval)("(function (k) {var n=k;"+r.join("else ")+" else {return this[n];}})"),this.removeAttribute=(0,eval)("(function (k) {var n=k;"+o.join("else ")+"else {this[n]=null} if (this._not_invalid_) {"+this.invalidate.compiled+"}})"),this}function o(t){return this._constructor=t,this}function a(t){var i;for(i in t)this[i]=t[i];return this}function s(){var t,i,e="(function () {",n=this._attributes;for(t in n)i=n[t].defaultValue,e+='this["'+t+'"]='+(""===i&&'""'||i)+";";return e+="this._invalid_cleanup=this._invalid_cleanup;this._invalid_parents=this._invalid_parents;this._invalid_children=this._invalid_children;this._invalid_children_=-1;this._not_invalid_=1;",e+="this._constructor && this._constructor();})",result=(0,eval)(e),result.prototype=this,result}function l(){return this._c2_id}var h=e(6);n.prototype=new h,n.prototype.attributes=r,n.prototype.constructor=o,n.prototype.proto=a,n.prototype.compile=s,n.prototype.toString=l,t.exports=n},function(t,i,e){function n(t){var i,e,n,r=this._events,o=r.tock,a=r.tick,s=this.context,l=this.children;if(a)for(i=0,e=a.length;i<e;i++)a[i].call(this,s);for(i=0,e=l.length;i<e;i++)(n=l[i]).render(s,n.__data__,i);if(o)for(i=0,e=o.length;i<e;i++)o[i].call(this,s)}function r(t,i){return s(i)}function o(){this._not_invalid_&&(this._not_invalid_=0,this._invalid_cleanup[this._invalid_cleanup.index++]=this,this._invalid_parents[this._invalid_parents.index++]=this,!this.invalidator.t2&&this.invalidator())}function a(){this._not_invalid_&&(this._not_invalid_=0,this._invalid_cleanup[this._invalid_cleanup.index++]=this,this._invalid_parents[this._invalid_parents.index++]=this,!this.invalidator.t2&&this.invalidator())}var s=e(9),l=e(7),h=e(5);Context2d=new l(n).proto({invalidate:a,_invalidate:o,createElementNS:r}).attributes({fillStyle:h.string,globalAlpha:h["float"],lineWidth:h["float"],strokeStyle:h.string,shadowColor:h.string,shadowBlur:h["float"],shadowOffsetX:h["float"],shadowOffsetY:h["float"]}),a.compiled=a.toString().replace(/\n|\t|[\s]{2,}/g,"").match(/([^\{]*)(.*)/)[2].slice(1,-1),t.exports=function(){if(this._c2Context2d_)return this._c2Context2d_;var t=c2.createElement(Context2d);return t.canvas=this,t.context=this.getContext("2d"),t.ownerDocument=t,this._c2Context2d_=t,t._events={},t}},function(t,i,e){var n=e(4);t.exports=function(t){var i;return"string"==typeof t?i=n[0|t]:t._isDrawable===!0&&(i=t),i.c2_renderable||(i.c2_renderable=i.compile()),i=new i.c2_renderable,i.ownerDocument=c2,i}},function(t,i,e){var n=e(7),r=e(5);t.exports=new n(function(t,i,e,n){var r,o,a,s=this._events,l=this.context,h=s.tock,_=s.tick,d=this.children;if(this.width&&this.width!==this.canvas.width&&(this.canvas.width=this.width),this.height&&this.height!==this.canvas.height&&(this.canvas.height=this.height),_)for(r=0,o=0|_.length;r<o;r++)_[r].call(this,l);if(this._forced||n&&n.length)for(this._forced&&(this._forced=!1),r=0,o=0|d.length;r<o;r++)a=d[r],a.render(l,a.__data__,r,a.__changed__);if(h)for(r=0,o=0|h.length;r<o;r++)h[r].call(this,l);t.drawImage(this.canvas,0|this.x,0|this.y)}).constructor(function(){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.children=[],this._events={}}).attributes({x:r["int"],y:r["int"],width:r["int"],height:r["int"]}).proto({forceUpdate:function(){this._forced=!0}})}]);