var c2=function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){(function(e){e.c2=function(){},c2.element=c2.create=function(t){return new this.Drawable(t)},c2.registry=i(2),c2.invalidator=i(3),c2.types=i(4),c2.Base=i(5),c2.Drawable=i(6),c2.Context2d=i(7),c2.Layer2d=i(9),c2.createElement=i(8),t.exports=c2}).call(e,function(){return this}())},function(t,e){var i=[];t.exports=i},function(t,e){function i(){i.timeout=!1,i.t2||(i.t2=requestAnimationFrame(n))}function n(){var t,e=r,n=o;i.t2=!1;for(var a=0,s=0|e.index;a<s;a++)e[a].render();for(e.index=0,a=0,s=0|n.index;a<s;a++)t=n[a],t._invalid_=!1,void 0!==t.__changed__&&(t.__changed__.length=0);n.index=0}var r=[],o=[];r.index=o.index=0,i.timeout=!1,i.parents=r,i.cleanup=o,t.exports=i},function(t,e){var i={"int":{defaultValue:0,setValue:"v|0"},"float":{defaultValue:0,setValue:"v"},string:{defaultValue:"",setValue:"v"},object:{defaultValue:null,setValue:"v"},array:{defaultValue:null,setValue:"v"},any:{defaultValue:null,setValue:"v"}};t.exports=i},function(t,e,i){function n(){this._events={}}function r(t){t.parentNode&&t.parentNode.removeChild(t);var e=this.children&&(this.children.push(t),t.parentNode=this,t)||null;return this._invalid_===!1&&null!==e&&this.invalidate(),e}function o(t,e){t.parentNode&&t.parentNode.removeChild(t);var i=this.children,n=-1;return i?(e&&e.parentNode===this&&(n=i.indexOf(e)),n!==-1?i.splice(n,0,t):i.push(t),t.parentNode=this):t=null,t&&this._invalid_===!1&&this.invalidate(),t}function a(t){var e=this.children,i=e?e.indexOf(t):-1,n=i!==-1&&e.splice(i,1)[0]||null;return this._invalid_===!1&&null!==n&&this.invalidate(),n}function s(t){var e,i,n=this.children;if(n)for(var r=0,o=n.length;r<o;r++){if(e=n[r],e._c2_proto===t)return e;if(e.children&&e.children.length&&(i=s.call(e,t)))return i}return null}function l(t,e){var i,n=this.children,r=e||[];if(n)for(var o=0,a=n.length;o<a;o++)i=n[o],i._c2_proto===t&&r.push(i),i.children&&i.children.length&&l.call(i,t,r);return r}function h(t,e){var i=this._events;return i[t]&&i[t].push(e)||(i[t]=[e]),!0}function c(t,e){var i=this._events[t],n=i?i.indexOf(e):-1;return n!==-1&&(i.splice(n,1),!0)}function d(t,e){var i=t,n=e;this[i]=n,this._invalid_===!1&&this.invalidate()}function u(t){return this[t]}function p(t){this[t]=void 0,this._invalid_===!1&&this.invalidate()}function _(){this._invalid_===!1&&(this._invalid_cleanup[this._invalid_cleanup.index++]=this,this._invalid_=!0,this.parentNode.__changed__?(this.parentNode._invalid_===!1&&this.parentNode.invalidate(),this.parentNode.__changed__.push(this)):(this.parentNode.__changed__=[this],this.parentNode._invalid_===!1&&this.parentNode.invalidate()))}function v(t){t._invalid_===!1&&(t._invalid_cleanup[t._invalid_cleanup.index++]=t,t._invalid_=!0,t.parentNode.__changed__?(t.parentNode._invalid_===!1&&t.parentNode.invalidate(),t.parentNode.__changed__.push(t)):(t.parentNode.__changed__=[t],t.parentNode._invalid_===!1&&t.parentNode.invalidate()))}var f=i(3),g=i(2);n.prototype._invalid_=!1,n.prototype._invalid_cleanup=f.cleanup,n.prototype._invalid_parents=f.parents,n.prototype.registry=g,n.prototype.invalidator=f,n.prototype.appendChild=r,n.prototype.insertBefore=o,n.prototype.removeChild=a,n.prototype.querySelector=s,n.prototype.querySelectorAll=l,n.prototype.addEventListener=h,n.prototype.removeEventListener=c,n.prototype.setAttribute=d,n.prototype.getAttribute=u,n.prototype.removeAttribute=p,n.prototype.render=n.prototype.oninvalid=n.prototype.ontock=n.prototype.ontick=void 0,n.prototype.invalidate=_,n.prototype.invalidate2=v,n.prototype._events=void 0,_.compiled=_.toString().replace(/\n|\t|[\s]{2,}/g,"").match(/([^\{]*)(.*)/)[2].slice(1,-1),v.compiled=v.toString().replace(/\n|\t|[\s]{2,}/g,"").match(/([^\{]*)(.*)/)[2].slice(1,-1),t.exports=n},function(t,e,i){function n(t){var e=this.registry.push(this)-1;if(this._c2_proto=this,this._c2_id=e,this._isDrawable=!0,!t)throw console.error("trace"),new Error("Render function must be provided to Drawable constructor");this.render=t}function r(t){var e,i,n=[],r=[],o=[];this._attributes=t;for(e in t)i=t[e],this[e]=t[e].defaultValue,n.push('if (n === "'+e+'" ) {this["'+e+'"]='+t[e].setValue+";}"),o.push('if (n === "'+e+'") {this["'+e+'"]=null;}'),r.push('if (n === "'+e+'") {return this["'+e+'"];}');return this.setAttribute=(0,eval)("(function c2_setAttribute (k,b) {var n=k,v=b; "+n.join("else ")+"else {this[n]=v;} "+this.invalidate.compiled+"})"),this.getAttribute=(0,eval)("(function (k) {var n=k;"+r.join("else ")+" else {return this[n];}})"),this.removeAttribute=(0,eval)("(function (k) {var n=k;"+o.join("else ")+"else {this[n]=null} if (this._invalid_ === false) {"+this.invalidate.compiled+"}})"),this}function o(t){return this._constructor=t,this}function a(t){var e;for(e in t)this[e]=t[e];return this}function s(){var t,e,i="(function () {var p;";for(t in this)i+='this["'+t+'"]=this["'+t+'"];';return i+="this._constructor && this._constructor();})",e=(0,eval)(i),e.prototype=this,e}function l(){return this._c2_id}var h=i(5);i(4);n.prototype=new h,n.prototype.attributes=r,n.prototype.constructor=o,n.prototype.proto=a,n.prototype.compile=s,n.prototype.toString=l,t.exports=n},function(t,e,i){function n(t){var e,i=this._events,n=i.tock,r=i.tick,o=this.context,a=this.children;if(r)for(var s=0,l=r.length;s<l;s++)r[s].call(this,o);for(s=0,l=a.length;s<l;s++)e=a[s],e.render(o,e.__data__,s,e.__changed__);if(n)for(s=0,l=n.length;s<l;s++)n[s].call(this,o)}function r(t,e){return c2.createElement(e)}function o(){this._invalid_===!1&&(this._invalid_=!0,this._invalid_cleanup[this._invalid_cleanup.index++]=this,this._invalid_parents[this._invalid_parents.index++]=this,this.invalidator())}var a=(i(8),i(6)),s=i(4);Context2d=new a(n).proto({invalidate:o,createElementNS:r}).attributes({fillStyle:s.string,globalAlpha:s["float"],lineWidth:s["float"],strokeStyle:s.string,shadowColor:s.string,shadowBlur:s["float"],shadowOffsetX:s["float"],shadowOffsetY:s["float"]}),o.compiled=o.toString().replace(/\n|\t|[\s]{2,}/g,"").match(/([^\{]*)(.*)/)[2].slice(1,-1),t.exports=function(){if(this._c2Context2d_)return this._c2Context2d_;var t=c2.createElement(Context2d);return t.canvas=this,t.context=this.getContext("2d"),t.children=[],t.ownerDocument=t,this._c2Context2d_=t,t._events={},t}},function(t,e,i){var n=i(2);t.exports=function(t){var e;return"string"==typeof t?e=n[0|t]:t._isDrawable===!0&&(e=t),e.c2_renderable||(e.c2_renderable=e.compile()),e=new e.c2_renderable,e.ownerDocument=c2,e}},function(t,e,i){var n=i(6),r=i(4);t.exports=new n(function(t,e,i,n){var r,o,a,s=this._events,l=this.context,h=s.tock,c=s.tick,d=this.children;if(this.width&&this.width!==this.canvas.width&&(this.canvas.width=this.width),this.height&&this.height!==this.canvas.height&&(this.canvas.height=this.height),c)for(r=0,o=0|c.length;r<o;r++)c[r].call(this,l);if(this._forced||n&&n.length)for(this._forced&&(this._forced=!1),r=0,o=0|d.length;r<o;r++)a=d[r],a.render(l,a.__data__,r,a.__changed__);if(h)for(r=0,o=0|h.length;r<o;r++)h[r].call(this,l);t.drawImage(this.canvas,0|this.x,0|this.y)}).constructor(function(){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.children=[],this._events={}}).attributes({x:r["int"],y:r["int"],width:r["int"],height:r["int"]}).proto({forceUpdate:function(){this._forced=!0}})}]);