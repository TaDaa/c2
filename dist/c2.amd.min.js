define("c2",[],function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){(function(e){e.c2=function(){},c2.element=c2.create=function(t){return new this.Drawable(t)},c2.animate=i(2),c2.registry=i(4),c2.invalidator=i(3),c2.types=i(5),c2.Base=i(6),c2.Drawable=i(7),c2.Context2d=i(8),c2.Layer2d=i(10),c2.createElement=i(9),t.exports=c2}).call(e,function(){return this}())},function(t,e,i){function n(t){function e(t){var i;(i=e._compile())&&e.tween("",i),V[I++]={selection:t,animation:e},!S&&(S=!0,f.nextCalculate(u))}return e._name=t||"",e._ease=p,e._delay=v,e._duration=x,e._tween_map={},e._to={},e._compiled={},e._compiled_fn=void 0,e._tweens=[],e._compile=h,e.duration=r,e.delay=o,e.ease=a,e.tween=d,e._remove=!1,e.to=_,e.on=l,e.remove=s,e}function r(t){return arguments.length?(this._duration=t,this):this._duration}function o(t){return arguments.length?(this._delay=t,this):this._delay}function a(t){return arguments.length?(this._ease=t,this):this._ease}function s(){return this._remove=!0,this}function l(t,e){return"end"===t?!this._on_end&&(this._on_end=[e])||this._on_end.push(e):"start"===t&&(!this._on_start&&(this._on_start=[e])||this._on_start.push(e)),this}function h(){var t,e=this._to,i="(function (to) {return function (d,i) {",n=["var me=this"],r=[],o=[],a=this._compiled,s=!1,l=0;if(a){for(t in e)if(a[t]!==e[t]){s=!0;break}if(s===!1)return this._compiled_fn}a=this._compiled={};for(t in e)a[t]=e[t],n.push("s"+l+'=this["'+t+'"]',"v"+l+"="+("function"==typeof e[t]&&'to["'+t+'"].call(this,d,i)'||'to["'+t+'"]'),"t"+l+"=typeof v"+l+' === "number"'),r.push("if (t"+l+") {s"+l+"=s"+l+"||0;v"+l+"-=s"+l+";} else {v"+l+"=d3.interpolate(s"+l+",v"+l+");}"),o.push("if (t"+l+') m["'+t+'"]=s'+l+"+v"+l+'*t; else m["'+t+'"]=v'+l+"(t);"),l++;return i+=n.join(",")+";",i+=r.join(""),i+="return function (t) {var m = me;",i+=o.join(""),i+="m._not_invalid_&&m.parentNode&&m._invalidate();",i+="}",i+="}})",this._compiled_fn=(0,eval)(i)(e)}function _(t,e){if(arguments.length>1)this._to[t]=e;else if("object"==typeof t){var i;for(i in t)this._to[i]=t[i]}return this}function d(t,e){return arguments.length>1?((index=this._tween_map[t])?this._tweens[index]=e:this._tween_map[t]=this._tweens.push(e)-1,this):this._tweens[this._tween_map[t]]||null}function c(t){var e,i,n,r,o,a,s,l,h,_,d,c,u,p,f,v,x,S,j,D,E,O,q,B,L,T,F,R,U,W,X,Y,z=k,G=V,H=t;if(N===-1)y&&(y=!1,C=b=0);else if(y)if(y=!1,N===-1)C=b=0;else for(C=b=0,e=0,i=g.length;e<i;e++)if(g[e]){if(n=2*e,n>=N)break;w[b++]=n}for(e=0,i=I;e<i;e++){for(X=G[e],W=X.animation,Y=X.selection,Y._started=!0,h=Y._groups,x=W._delay,S=W._duration,E=W._tweens,O=W._name,q=W._remove,B=W._on_end,v=W._ease,j="function"==typeof x,D="function"==typeof S,n=0,r=h.length;n<r;n++)for(_=h[n],o=0,a=_.length;o<a;o++)if(d=_[o]){if((T=d._c2_transition)&&(u=T[O])){for(c=u.tween_group,u.end_index!==-1&&(u.end_group[u.end_index]=0),s=0,l=u.length;s<l;s++)c[u[s]]=0;0!==c.cnt&&(c.cnt-=l)<=0&&(c.cnt=c.length=0)}for(p=j?H+x.call(d,d.__data__,o,_):H+x,f=D?S.call(d,d.__data__,o,_):S,R=p+"-"+f,(L=A[R])?(U=L.indexOf(v),U!==-1?c=L[U+1]:(L.push(v,c=[]),c.cnt=0)):(b?(U=w[C++],b--,g[U/2]=0):U=N+1,L=z[U/2]=A[R]=[void 0,v,c=[]],c.cnt=0,m[U]=p,m[++U]=f,U>N&&(N=U)),T=d._c2_transition,T||(T=d._c2_transition={}),u=T[O]=[],u.tween_group=c,u.node=d,q||B?(u.remove=q,u.end=B,u.index=o,(F=L[0])?(u.end_index=F.push(u)-1,u.end_group=F):(u.end_group=L[0]=[u],u.end_index=0)):u.end_index=-1,s=0,l=E.length;s<l;s++)u[s]=c.push(E[s].call(d,d.__data__,o,_))-1;c.cnt+=l}G[e]=void 0}I=0}function u(){var t,e,i,n,r,o,a,s,l,h,_,d,p,v,x=Date.now(),w=0,b=0,C=0,V=0;if(I&&c(x),N>0){for(t=0,i=0,o=0,e=N;t<e;t++,o++)if(w=m[t++],w!==-1&&x>w){if(d=m[t],d>0){if(b=(x-w)/d,b>=1&&(C=b=1),r=k[o])for(i=1,n=r.length;i<n;i+=2)if(v=r[i+1],s=v.length)for(_=r[i](b),a=0;a<s;a++)(p=v[a])&&p(_)}else C=1;if(C){if(C=0,!y&&(y=!0),g[(t-1)/2]=1,r=r[0])for(i=0,n=r.length;i<n;i++)if(v=r[i]){if(h=v.node,l=v.end)for(a=0,s=l.length;a<s;a++)l[a].call(h,h.__data__,v.index);v.remove&&h.parentNode&&h.parentNode.removeChild(h)}delete A[m[t-1]+"-"+m[t]],m[t-1]=m[t]=-1,k[o]=!1,t===N&&(V=1)}}if(V){for(t=N-1;t>=-1;t-=2)if(m[t]!==-1){N=t+1;break}t<=-1&&(N=-1)}}I>0||N>0?f.nextCalculate(u):S=!1}t.exports=function(t){return new n(t)};var p=function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2},f=i(3),v=0,x=250,m=[],g=[],y=!0,w=[],b=0,C=0,N=-1,k=[],V=[],I=0,A={},S=!1},function(t,e){function i(){i.t2||(i.t2=!0,requestAnimationFrame(r))}function n(){var t=o;h=!1,t&&(o=!1,t())}function r(){i.t2=!1,o&&(h=!0,setTimeout(n,4));var t,e,r,_,d,c,u,p,f=a,v=s,x=l,m=0;for(_=0,d=x.length;_<d;_++){for(p=x[_],c=p.children,t=r=p._invalid_children_,u=0,e=c.length;r<e;t++,r++){if(p=c[r],!p)for(;!p&&r<e;)m++,p=c[++r];m>-1&&p&&(c[t]=p,p.parentIndex=t)}x[_]._invalid_children_=-1,c.length&&(c.length-=r-t)}for(x.index=0,_=0,d=f.index;_<d;_++)f[_].render();for(f.index=0,_=0,d=v.index;_<d;_++)p=v[_],p._not_invalid_=1;v.index=0}var o,a=[],s=[],l=[];l.index=a.index=s.index=0,i.nextCalculate=function(t){i.t2?o=t:setTimeout(t,4)};var h=!1;i.timeout=!1,i.parents=a,i.cleanup=s,i.children=l,t.exports=i},function(t,e){t.exports=[]},function(t,e){t.exports={"int":{defaultValue:0,setValue:"v|0"},"float":{defaultValue:0,setValue:"v"},string:{defaultValue:"",setValue:"v"},object:{defaultValue:null,setValue:"v"},array:{defaultValue:null,setValue:"v"},any:{defaultValue:null,setValue:"v"}}},function(t,e,i){function n(){this._events={}}function r(t){t.parentNode&&t.parentNode.removeChild(t);var e=this.children;return e||(e=this.children=[]),t.parentIndex=e.push(t)-1,t.parentNode=this,this._not_invalid_&&this._invalidate(),t}function o(t,e){t.parentNode&&t.parentNode.removeChild(t);var i=this.children,n=-1;return i||(i=this.children=[]),e&&e.parentNode===this&&(n=i.indexOf(e)),n!==-1?(t.parentIndex=n,i.splice(n,0,t)):t.parentIndex=i.push(t)-1,t.parentNode=this,this._not_invalid_&&this._invalidate(),t}function a(t){if(t.parentNode===this)return this._invalid_children_===-1&&(this._invalid_children_=0|t.parentIndex,this._invalid_children[this._invalid_children.index++]=this),this._invalid_children_>t.parentIndex&&(this._invalid_children_=t.parentIndex),this.children[t.parentIndex]=void 0,t.parentIndex=-1,t.parentNode=void 0,this._not_invalid_&&this._invalidate(),t}function s(t){var e,i,n=this.children;if(n)for(var r=0,o=n.length;r<o;r++)if(e=n[r]){if(e._c2_proto===t)return e;if(e.children&&e.children.length&&(i=s.call(e,t)))return i}return null}function l(t,e){var i,n=this.children,r=e||[];if(n)for(var o=0,a=n.length;o<a;o++)(i=n[o])&&(i._c2_proto===t&&r.push(i),i.children&&i.children.length&&l.call(i,t,r));return r}function h(t,e){var i=this._events;return i[t]&&i[t].push(e)||(i[t]=[e]),!0}function _(t,e){var i=this._events[t],n=i?i.indexOf(e):-1;return n!==-1&&(i.splice(n,1),!0)}function d(t,e){var i=t,n=e;this[i]=n,this._not_invalid_&&this._invalidate()}function c(t){return this[t]}function u(t){this[t]=void 0,this._not_invalid_&&this._invalidate()}function p(){this._invalid_cleanup[this._invalid_cleanup.index++]=this,this._not_invalid_=0,this.parentNode._not_invalid_&&this.parentNode.invalidate()}function f(){this._not_invalid_&&(this._invalid_cleanup[this._invalid_cleanup.index++]=this,this._not_invalid_=0,this.willInvalidate&&this.willInvalidate(),this.parentNode._not_invalid_&&this.parentNode.invalidate())}var v=i(3),x=i(4);n.prototype._not_invalid_=1,n.prototype._invalid_cleanup=v.cleanup,n.prototype._invalid_parents=v.parents,n.prototype._invalid_children_=-1,n.prototype._invalid_children=v.children,n.prototype.registry=x,n.prototype.invalidator=v,n.prototype.appendChild=r,n.prototype.insertBefore=o,n.prototype.removeChild=a,n.prototype.querySelector=s,n.prototype.querySelectorAll=l,n.prototype.addEventListener=h,n.prototype.removeEventListener=_,n.prototype.setAttribute=d,n.prototype.getAttribute=c,n.prototype.removeAttribute=u,n.prototype.render=n.prototype.oninvalid=n.prototype.ontock=n.prototype.ontick=void 0,n.prototype.invalidate=f,n.prototype._invalidate=p,n.prototype._events=void 0,p.compiled=p.toString().replace(/\n|\t|[\s]{2,}/g,"").match(/([^\{]*)(.*)/)[2].slice(1,-1),f.compiled=f.toString().replace(/\n|\t|[\s]{2,}/g,"").match(/([^\{]*)(.*)/)[2].slice(1,-1),t.exports=n},function(t,e,i){function n(t){var e=this.registry.push(this)-1;if(this._c2_proto=this,this._c2_id=e,this._isDrawable=!0,!t)throw console.error("trace"),new Error("Render function must be provided to Drawable constructor");this.render=t}function r(t){var e,i,n=[],r=[],o=[];this._attributes=t;for(e in t)i=t[e],this[e]=t[e].defaultValue,n.push('if (n === "'+e+'" ) {this["'+e+'"]='+t[e].setValue+";}"),o.push('if (n === "'+e+'") {this["'+e+'"]=null;}'),r.push('if (n === "'+e+'") {return this["'+e+'"];}');return this.setAttribute=(0,eval)("(function c2_setAttribute (k,b) {var n=k,v=b; "+n.join("else ")+"else {this[n]=v;} "+this.invalidate.compiled+"})"),this.getAttribute=(0,eval)("(function (k) {var n=k;"+r.join("else ")+" else {return this[n];}})"),this.removeAttribute=(0,eval)("(function (k) {var n=k;"+o.join("else ")+"else {this[n]=null} if (this._not_invalid_) {"+this.invalidate.compiled+"}})"),this}function o(t){return this._constructor=t,this}function a(t){var e;for(e in t)this[e]=t[e];return this}function s(){var t,e,i="(function () {",n=this._attributes;for(t in n)e=n[t].defaultValue,i+='this["'+t+'"]='+(""===e&&'""'||e)+";";return i+="this._invalid_cleanup=this._invalid_cleanup;this._invalid_parents=this._invalid_parents;this._invalid_children=this._invalid_children;this._invalid_children_=-1;this._not_invalid_=1;",i+="this._constructor && this._constructor();})",result=(0,eval)(i),result.prototype=this,result}function l(){return this._c2_id}var h=i(6);n.prototype=new h,n.prototype.attributes=r,n.prototype.constructor=o,n.prototype.proto=a,n.prototype.compile=s,n.prototype.toString=l,t.exports=n},function(t,e,i){function n(t){var e,i,n,r=this._events,o=r.tock,a=r.tick,s=this.context,l=this.children;if(a)for(e=0,i=a.length;e<i;e++)a[e].call(this,s);for(e=0,i=l.length;e<i;e++)(n=l[e]).render(s,n.__data__,e);if(o)for(e=0,i=o.length;e<i;e++)o[e].call(this,s)}function r(t,e){return s(e)}function o(){this._not_invalid_&&(this._not_invalid_=0,this._invalid_cleanup[this._invalid_cleanup.index++]=this,this._invalid_parents[this._invalid_parents.index++]=this,!this.invalidator.t2&&this.invalidator())}function a(){this._not_invalid_&&(this._not_invalid_=0,this._invalid_cleanup[this._invalid_cleanup.index++]=this,this._invalid_parents[this._invalid_parents.index++]=this,!this.invalidator.t2&&this.invalidator())}var s=i(9),l=i(7),h=i(5);Context2d=new l(n).proto({invalidate:a,_invalidate:o,createElementNS:r}).attributes({fillStyle:h.string,globalAlpha:h["float"],lineWidth:h["float"],strokeStyle:h.string,shadowColor:h.string,shadowBlur:h["float"],shadowOffsetX:h["float"],shadowOffsetY:h["float"]}),a.compiled=a.toString().replace(/\n|\t|[\s]{2,}/g,"").match(/([^\{]*)(.*)/)[2].slice(1,-1),t.exports=function(){if(this._c2Context2d_)return this._c2Context2d_;var t=c2.createElement(Context2d);return t.canvas=this,t.context=this.getContext("2d"),t.ownerDocument=t,this._c2Context2d_=t,t._events={},t}},function(t,e,i){var n=i(4);t.exports=function(t){var e;return"string"==typeof t?e=n[0|t]:t._isDrawable===!0&&(e=t),e.c2_renderable||(e.c2_renderable=e.compile()),e=new e.c2_renderable,e.ownerDocument=c2,e}},function(t,e,i){var n=i(7),r=i(5);t.exports=new n(function(t,e,i,n){var r,o,a,s=this._events,l=this.context,h=s.tock,_=s.tick,d=this.children;if(this.width&&this.width!==this.canvas.width&&(this.canvas.width=this.width),this.height&&this.height!==this.canvas.height&&(this.canvas.height=this.height),_)for(r=0,o=0|_.length;r<o;r++)_[r].call(this,l);if(this._forced||n&&n.length)for(this._forced&&(this._forced=!1),r=0,o=0|d.length;r<o;r++)a=d[r],a.render(l,a.__data__,r,a.__changed__);if(h)for(r=0,o=0|h.length;r<o;r++)h[r].call(this,l);t.drawImage(this.canvas,0|this.x,0|this.y)}).constructor(function(){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.children=[],this._events={}}).attributes({x:r["int"],y:r["int"],width:r["int"],height:r["int"]}).proto({forceUpdate:function(){this._forced=!0}})}])});