define("c2",[],function(){return function(t){function i(e){if(n[e])return n[e].exports;var r=n[e]={exports:{},id:e,loaded:!1};return t[e].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}var n={};return i.m=t,i.c=n,i.p="",i(0)}([function(t,i,n){t.exports=n(1)},function(t,i,n){(function(i){i.c2=function(){},c2.element=c2.create=function(t){return new this.Drawable(t)},c2.animate=n(2),c2.registry=n(4),c2.invalidator=n(3),c2.types=n(5),c2.Base=n(6),c2.Drawable=n(7),c2.Context2d=n(8),c2.Layer2d=n(10),c2.createElement=n(9),t.exports=c2}).call(i,function(){return this}())},function(t,i,n){function e(t){function i(t){var n;(n=i._compile())&&i.tween("",n),pending[pending_cnt++]={selection:t,animation:i},!m&&(m=!0,v.nextCalculate(u)),!m&&(m=!0,setTimeout(u))}return i._name=t||"",i._ease=p,i._delay=f,i._duration=x,i._tween_map={},i._to={},i._compiled={},i._compiled_fn=void 0,i._tweens=[],i._compile=l,i.duration=r,i.delay=a,i.ease=o,i.tween=h,i._remove=!1,i.to=d,i.on=_,i.remove=s,i}function r(t){return arguments.length?(this._duration=t,this):this._duration}function a(t){return arguments.length?(this._delay=t,this):this._delay}function o(t){return arguments.length?(this._ease=t,this):this._ease}function s(){return this._remove=!0,this}function _(t,i){return"end"===t?!this._on_end&&(this._on_end=[i])||this._on_end.push(i):"start"===t&&(!this._on_start&&(this._on_start=[i])||this._on_start.push(i)),this}function l(){var t,i=this,n=this._to,e="(function (to,n) {return function (d,i) {",r=["var me=this"],a=[],o=[],s=this._compiled,_=!1,l=0;if(s){for(t in n)if(s[t]!==n[t]){_=!0;break}if(_===!1)return this._compiled_fn}s=this._compiled={};for(t in n)s[t]=n[t],r.push("s"+l+'=this["'+t+'"]',"v"+l+"="+("function"==typeof n[t]&&'to["'+t+'"].call(this,d,i)'||'to["'+t+'"]'),"t"+l+"=typeof v"+l+' === "number"'),a.push("if (t"+l+") {s"+l+"=s"+l+"||0;v"+l+"-=s"+l+";} else {v"+l+"=d3.interpolate(s"+l+",v"+l+");}"),o.push("if (t"+l+') m["'+t+'"]=s'+l+"+v"+l+'*t; else m["'+t+'"]=v'+l+"(t);"),l++;return e+=r.join(",")+";",e+=a.join(""),e+="return function (t,e) {var m = me;",e+=o.join(""),e+="m._not_invalid_&&m.parentNode&&m._invalidate();",e+="e&&n(m,d,i);",e+="}",e+="}})",this._compiled_fn=(0,eval)(e)(n,function(t,n,e){var r;if(i._remove&&t.parentNode&&t.parentNode.removeChild(t),r=i._on_end){var e,a;for(e=0,a=r.length;e<a;e++)r.call(t,n,e,g)}})}function d(t,i){if(arguments.length>1)this._to[t]=i;else if("object"==typeof t){var n;for(n in t)this._to[n]=t[n]}return this}function h(t,i){return arguments.length>1?((index=this._tween_map[t])?this._tweens[index]=i:this._tween_map[t]=this._tweens.push(i)-1,this):this._tweens[this._tween_map[t]]||null}function c(t){var i,n,e,r,a,o,s,_,l,d,h,c,u,p,v,f,x,g,m,w,y,b,C,N,k,V,I,A,S,j,D=ease_groups,E=pending,O=t;if(available_invalid)if(available_invalid=!1,start_duration_end_index===-1)y=0;else for(window.ordered_available=[],i=0,n=available_start_indices.length;i<n;i++)if(available_start_indices[i]){if(e=2*i,e>start_duration_end_index)break;ordered_available.push(e)}for(i=0,n=pending_cnt;i<n;i++){for(S=E[i],A=S.animation,j=S.selection,j._started=!0,l=j._groups,x=A._delay,g=A._duration,b=A._tweens,C=A._name,f=A._ease,m="function"==typeof x,w="function"==typeof g,e=0,r=l.length;e<r;e++)for(d=l[e],a=0,o=d.length;a<o;a++)if(h=d[a]){if(h._c2_transition&&(k=h._c2_transition,u=k[C],void 0!==u)){for(c=u.tween_group,s=0,_=u.length;s<_;s++)c[u[s]]=0;0!==c.cnt&&(c.cnt-=_)<=0&&(c.cnt=c.length=0)}for(p=m?O+x.call(h,h.__data__,a,d):O+x,v=w?g.call(h,h.__data__,a,d):g,V=p+"-"+v,(N=start_duration_map[V])?(I=N.indexOf(f),I!==-1?c=N[I+1]:(N.push(f,c=[]),c.cnt=0)):(y>0?(I=ordered_available.shift(),available_start_indices[I/2]=0,y--):I=start_duration_end_index+1,N=D[I/2]=start_duration_map[V]=[f,c=[]],c.cnt=0,start_durations[I]=p,start_durations[++I]=v,I>start_duration_end_index&&(start_duration_end_index=I)),k=h._c2_transition,k||(k=h._c2_transition={}),u=k[C]=[],u.tween_group=c,s=0,_=b.length;s<_;s++)u[s]=c.push(b[s].call(h,h.__data__,a,d))-1;c.cnt+=_}E[i]=void 0}pending_cnt=0}function u(){var t,i,n,e,r,a,o,s,_,l,d,h,p=Date.now(),f=0,x=0,g=0,w=0;if(pending_cnt&&c(p),start_duration_end_index>0){for(t=0,n=0,a=0,i=start_duration_end_index;t<i;t++,a++)if(f=start_durations[t++],f!==-1&&p>f){if(l=start_durations[t],l>0){if(x=(p-f)/l,x>=1&&(g=x=1),r=ease_groups[a])for(n=0,e=r.length;n<e;n+=2)if(h=r[n+1],s=h.length)for(_=r[n](x),o=0;o<s;o++)(d=h[o])&&d(_,g)}else g=1;g&&(g=0,available_start_cnt++,!available_invalid&&(available_invalid=!0),available_start_indices[(t-1)/2]=1,delete start_duration_map[start_durations[t-1]+"-"+start_durations[t]],start_durations[t-1]=start_durations[t]=-1,ease_groups[a]=!1,t===start_duration_end_index&&(w=1))}if(w){for(t=start_duration_end_index-1;t>=-1;t-=2)if(start_durations[t]!==-1){start_duration_end_index=t+1;break}t<=-1&&(start_duration_end_index=-1)}}pending_cnt>0||start_duration_end_index>0?v.nextCalculate(u):m=!1}t.exports=function(t){return new e(t)};var p=function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2},v=n(3),f=0,x=250;window.start_durations=[],window.available_start_indices=[],window.available_start_cnt=0,window.available_invalid=!0,window.ordered_available=[],window.start_duration_end_index=-1,window.ease_groups=[],window.pending=[],window.pending_cnt=0,window.start_duration_map={},window.available={};var m=!1},function(t,i){function n(){n.t2||(n.t2=!0,requestAnimationFrame(r))}function e(){var t=a;l=!1,t&&(a=!1,t())}function r(){n.t2=!1,a&&(l=!0,setTimeout(e,4));var t,i,r,d,h,c,u,p,v=o,f=s,x=_,g=0;for(d=0,h=x.length;d<h;d++){for(p=x[d],c=p.children,t=r=p._invalid_children_,u=0,i=c.length;r<i;t++,r++){if(p=c[r],!p)for(;!p&&r<i;)g++,p=c[++r];g>-1&&p&&(c[t]=p,p.parentIndex=t)}x[d]._invalid_children_=-1,c.length&&(c.length-=r-t)}for(x.index=0,d=0,h=v.index;d<h;d++)v[d].render();for(v.index=0,d=0,h=f.index;d<h;d++)p=f[d],p._not_invalid_=1;f.index=0}var a,o=[],s=[],_=[];_.index=o.index=s.index=0,n.nextCalculate=function(t){n.t2?a=t:setTimeout(t,4)};var l=!1;n.timeout=!1,n.parents=o,n.cleanup=s,n.children=_,t.exports=n},function(t,i){t.exports=[]},function(t,i){t.exports={"int":{defaultValue:0,setValue:"v|0"},"float":{defaultValue:0,setValue:"v"},string:{defaultValue:"",setValue:"v"},object:{defaultValue:null,setValue:"v"},array:{defaultValue:null,setValue:"v"},any:{defaultValue:null,setValue:"v"}}},function(t,i,n){function e(){this._events={}}function r(t){t.parentNode&&t.parentNode.removeChild(t);var i=this.children;return i||(i=this.children=[]),t.parentIndex=i.push(t)-1,t.parentNode=this,this._not_invalid_&&this._invalidate(),t}function a(t,i){t.parentNode&&t.parentNode.removeChild(t);var n=this.children,e=-1;return n||(n=this.children=[]),i&&i.parentNode===this&&(e=n.indexOf(i)),e!==-1?(t.parentIndex=e,n.splice(e,0,t)):t.parentIndex=n.push(t)-1,t.parentNode=this,this._not_invalid_&&this._invalidate(),t}function o(t){if(t.parentNode===this)return this._invalid_children_===-1&&(this._invalid_children_=0|t.parentIndex,this._invalid_children[this._invalid_children.index++]=this),this._invalid_children_>t.parentIndex&&(this._invalid_children_=t.parentIndex),this.children[t.parentIndex]=void 0,t.parentIndex=-1,t.parentNode=void 0,this._not_invalid_&&this._invalidate(),t}function s(t){var i,n,e=this.children;if(e)for(var r=0,a=e.length;r<a;r++)if(i=e[r]){if(i._c2_proto===t)return i;if(i.children&&i.children.length&&(n=s.call(i,t)))return n}return null}function _(t,i){var n,e=this.children,r=i||[];if(e)for(var a=0,o=e.length;a<o;a++)(n=e[a])&&(n._c2_proto===t&&r.push(n),n.children&&n.children.length&&_.call(n,t,r));return r}function l(t,i){var n=this._events;return n[t]&&n[t].push(i)||(n[t]=[i]),!0}function d(t,i){var n=this._events[t],e=n?n.indexOf(i):-1;return e!==-1&&(n.splice(e,1),!0)}function h(t,i){var n=t,e=i;this[n]=e,this._not_invalid_&&this._invalidate()}function c(t){return this[t]}function u(t){this[t]=void 0,this._not_invalid_&&this._invalidate()}function p(){this._invalid_cleanup[this._invalid_cleanup.index++]=this,this._not_invalid_=0,this.parentNode._not_invalid_&&this.parentNode.invalidate()}function v(){this._not_invalid_&&(this._invalid_cleanup[this._invalid_cleanup.index++]=this,this._not_invalid_=0,this.willInvalidate&&this.willInvalidate(),this.parentNode._not_invalid_&&this.parentNode.invalidate())}var f=n(3),x=n(4);e.prototype._not_invalid_=1,e.prototype._invalid_cleanup=f.cleanup,e.prototype._invalid_parents=f.parents,e.prototype._invalid_children_=-1,e.prototype._invalid_children=f.children,e.prototype.registry=x,e.prototype.invalidator=f,e.prototype.appendChild=r,e.prototype.insertBefore=a,e.prototype.removeChild=o,e.prototype.querySelector=s,e.prototype.querySelectorAll=_,e.prototype.addEventListener=l,e.prototype.removeEventListener=d,e.prototype.setAttribute=h,e.prototype.getAttribute=c,e.prototype.removeAttribute=u,e.prototype.render=e.prototype.oninvalid=e.prototype.ontock=e.prototype.ontick=void 0,e.prototype.invalidate=v,e.prototype._invalidate=p,e.prototype._events=void 0,p.compiled=p.toString().replace(/\n|\t|[\s]{2,}/g,"").match(/([^\{]*)(.*)/)[2].slice(1,-1),v.compiled=v.toString().replace(/\n|\t|[\s]{2,}/g,"").match(/([^\{]*)(.*)/)[2].slice(1,-1),t.exports=e},function(t,i,n){function e(t){var i=this.registry.push(this)-1;if(this._c2_proto=this,this._c2_id=i,this._isDrawable=!0,!t)throw console.error("trace"),new Error("Render function must be provided to Drawable constructor");this.render=t}function r(t){var i,n,e=[],r=[],a=[];this._attributes=t;for(i in t)n=t[i],this[i]=t[i].defaultValue,e.push('if (n === "'+i+'" ) {this["'+i+'"]='+t[i].setValue+";}"),a.push('if (n === "'+i+'") {this["'+i+'"]=null;}'),r.push('if (n === "'+i+'") {return this["'+i+'"];}');return this.setAttribute=(0,eval)("(function c2_setAttribute (k,b) {var n=k,v=b; "+e.join("else ")+"else {this[n]=v;} "+this.invalidate.compiled+"})"),this.getAttribute=(0,eval)("(function (k) {var n=k;"+r.join("else ")+" else {return this[n];}})"),this.removeAttribute=(0,eval)("(function (k) {var n=k;"+a.join("else ")+"else {this[n]=null} if (this._not_invalid_) {"+this.invalidate.compiled+"}})"),this}function a(t){return this._constructor=t,this}function o(t){var i;for(i in t)this[i]=t[i];return this}function s(){var t,i,n="(function () {",e=this._attributes;for(t in e)i=e[t].defaultValue,n+='this["'+t+'"]='+(""===i&&'""'||i)+";";return n+="this._invalid_cleanup=this._invalid_cleanup;this._invalid_parents=this._invalid_parents;this._invalid_children=this._invalid_children;this._invalid_children_=-1;this._not_invalid_=1;",n+="this._constructor && this._constructor();})",result=(0,eval)(n),result.prototype=this,result}function _(){return this._c2_id}var l=n(6);e.prototype=new l,e.prototype.attributes=r,e.prototype.constructor=a,e.prototype.proto=o,e.prototype.compile=s,e.prototype.toString=_,t.exports=e},function(t,i,n){function e(t){var i,n,e,r=this._events,a=r.tock,o=r.tick,s=this.context,_=this.children;if(o)for(i=0,n=o.length;i<n;i++)o[i].call(this,s);for(i=0,n=_.length;i<n;i++)(e=_[i]).render(s,e.__data__,i);if(a)for(i=0,n=a.length;i<n;i++)a[i].call(this,s)}function r(t,i){return s(i)}function a(){this._not_invalid_&&(this._not_invalid_=0,this._invalid_cleanup[this._invalid_cleanup.index++]=this,this._invalid_parents[this._invalid_parents.index++]=this,!this.invalidator.t2&&this.invalidator())}function o(){this._not_invalid_&&(this._not_invalid_=0,this._invalid_cleanup[this._invalid_cleanup.index++]=this,this._invalid_parents[this._invalid_parents.index++]=this,!this.invalidator.t2&&this.invalidator())}var s=n(9),_=n(7),l=n(5);Context2d=new _(e).proto({invalidate:o,_invalidate:a,createElementNS:r}).attributes({fillStyle:l.string,globalAlpha:l["float"],lineWidth:l["float"],strokeStyle:l.string,shadowColor:l.string,shadowBlur:l["float"],shadowOffsetX:l["float"],shadowOffsetY:l["float"]}),o.compiled=o.toString().replace(/\n|\t|[\s]{2,}/g,"").match(/([^\{]*)(.*)/)[2].slice(1,-1),t.exports=function(){if(this._c2Context2d_)return this._c2Context2d_;var t=c2.createElement(Context2d);return t.canvas=this,t.context=this.getContext("2d"),t.ownerDocument=t,this._c2Context2d_=t,t._events={},t}},function(t,i,n){var e=n(4);t.exports=function(t){var i;return"string"==typeof t?i=e[0|t]:t._isDrawable===!0&&(i=t),i.c2_renderable||(i.c2_renderable=i.compile()),i=new i.c2_renderable,i.ownerDocument=c2,i}},function(t,i,n){var e=n(7),r=n(5);t.exports=new e(function(t,i,n,e){var r,a,o,s=this._events,_=this.context,l=s.tock,d=s.tick,h=this.children;if(this.width&&this.width!==this.canvas.width&&(this.canvas.width=this.width),this.height&&this.height!==this.canvas.height&&(this.canvas.height=this.height),d)for(r=0,a=0|d.length;r<a;r++)d[r].call(this,_);if(this._forced||e&&e.length)for(this._forced&&(this._forced=!1),r=0,a=0|h.length;r<a;r++)o=h[r],o.render(_,o.__data__,r,o.__changed__);if(l)for(r=0,a=0|l.length;r<a;r++)l[r].call(this,_);t.drawImage(this.canvas,0|this.x,0|this.y)}).constructor(function(){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.children=[],this._events={}}).attributes({x:r["int"],y:r["int"],width:r["int"],height:r["int"]}).proto({forceUpdate:function(){this._forced=!0}})}])});